<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/trails.json',
    searchResultTemplate: '<li><a href="{url}">{trail}</a><br />{subtitle}</li>',
    fuzzy: true
  });
  $("#search-input").on('keyup', function(e) {
    if (e.target.value == 0) {
      $("#results-container").removeClass('active')
    }else{
      $("#results-container").fadeIn().addClass('active')
    }
  });
  {% if page.homepage != true %}
  $("#search-icon").click(function(e) {
    e.preventDefault();
    $("#search-input").fadeToggle();
    return false;
  });
  {% endif %}
  {% if page.type or page.maptype %}
  /*Off canvas list menu*/
  $('[data-toggle="offcanvas"]').click(function () {
    console.log('click');
    $('.row-offcanvas').toggleClass('active');
  });
  {% endif%}
/*  function startFuse(trails) {
    fuse = new Fuse(trails, options);
    var search = document.getElementById('search-input');
    search.addEventListener('keyup', function(e) {
        var query = e.target.value;
        console.log(query);
        result = fuse.search(query);
        console.log(result);
    });
  }
  var fuse, result;
  $.getJSON("/trails-portal/trails.json", function(data) {
    console.log('success');
    alert(JSON.stringify(data));
  })
  .done(function() {
    console.log('done')
  })
  .fail(function() {
    console.log('fail')
  });
  var options = {
    shouldSort: true,
    tokenize: true,
    maxPatternLength: 32,
    minMatchCharLength: 3,
    keys: [
      "trail"
    ]
  };
})*/
</script>
